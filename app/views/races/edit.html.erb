<h1 class="mb-4">Edit Race: <%= @race.name %></h1>
<div class="mb-3">
  <%= link_to "Back", race_path(@race), class: "btn btn-secondary" %>
</div>

<%= form_with(model: @race, local: true) do |f| %>
  <%= render 'shared/error_messages', object: @race %>

  <div class="form-group">
    <%= f.label :name, "Race Name" %>
    <%= f.text_field :name, class: "form-control", readonly: true %>
  </div>

  <h2>Race Entries</h2>
  <div id="race_entries">
    <%= f.fields_for :race_entries do |entry_form| %>
      <div class="nested-fields border p-3 mb-2">
        <div class="form-group">
          <%= entry_form.label :student_name, "Student Name" %>
          <%= entry_form.text_field :student_name, class: "form-control", readonly: true %>
        </div>
        <div class="form-group">
          <%= entry_form.label :lane, "Lane" %>
          <%= entry_form.number_field :lane, class: "form-control", readonly: true %>
        </div>
        <div class="form-group">
          <%= entry_form.label :final_place, "Final Place" %>
          <%= entry_form.number_field :final_place, class: "form-control" %>
        </div>
      </div>
    <% end %>
  </div>
  <div>
    <%= f.submit "Update Race", class: "btn btn-primary" %>
  </div>
<% end %>
